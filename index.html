<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indoor Dust Health Risk Assessment Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            color: #4f46e5;
            border-bottom-color: #4f46e5;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: box-shadow 0.3s ease;
        }
        .card:hover {
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .result-card {
            border-left-width: 4px;
        }
        .hq-low { border-color: #22c55e; } /* green-500 */
        .hq-high { border-color: #ef4444; } /* red-500 */
        .ilcr-low { border-color: #22c55e; }
        .ilcr-medium { border-color: #eab308; } /* yellow-500 */
        .ilcr-high { border-color: #ef4444; }
    </style>
</head>
<body class="antialiased text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Indoor Dust Health Risk Assessment</h1>
            <p class="mt-2 text-lg text-gray-600">A tool to quantify risks from emerging contaminants in indoor dust.</p>
        </header>

        <!-- Main content with tabs -->
        <div id="app" class="max-w-6xl mx-auto">
            <!-- Tab Buttons -->
            <div class="border-b border-gray-200 mb-6">
                <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                    <button onclick="changeTab('calculator')" class="tab-button active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">
                        Risk Calculator
                    </button>
                    <button onclick="changeTab('pollutants')" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300">
                        Pollutant Data
                    </button>
                    <button onclick="changeTab('reference')" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300">
                        Reference Tables
                    </button>
                    <button onclick="changeTab('about')" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300">
                        About
                    </button>
                </nav>
            </div>

            <!-- Tab Content -->
            <div>
                <!-- Calculator Tab -->
                <div id="calculator-tab" class="space-y-8">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Input Section -->
                        <div class="card p-6">
                            <h2 class="text-xl font-semibold mb-4 text-gray-900">1. Input Parameters</h2>
                            <div class="space-y-4">
                                <!-- General Inputs -->
                                <fieldset class="border-t border-gray-200 pt-4">
                                    <legend class="text-base font-semibold text-gray-800">General</legend>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2">
                                        <div>
                                            <label for="pollutant-select" class="block text-sm font-medium text-gray-700">Pollutant</label>
                                            <select id="pollutant-select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"></select>
                                        </div>
                                        <div>
                                            <label for="age-group-select" class="block text-sm font-medium text-gray-700">Age Group</label>
                                            <select id="age-group-select" onchange="updateAgeSpecificInputs()" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"></select>
                                        </div>
                                    </div>
                                </fieldset>
                                
                                <!-- Pathway Specific Inputs -->
                                <fieldset class="border-t border-gray-200 pt-4">
                                    <legend class="text-base font-semibold text-gray-800">Pathway Concentrations & Factors</legend>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2">
                                        <div>
                                            <label for="concentration-input" class="block text-sm font-medium text-gray-700">Ingestion: Dust Conc. (mg/kg)</label>
                                            <input type="number" id="concentration-input" value="500" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                        </div>
                                         <div>
                                            <label for="concentration-air-input" class="block text-sm font-medium text-gray-700">Inhalation: Air Conc. (µg/m³)</label>
                                            <input type="number" id="concentration-air-input" value="0.01" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                        </div>
                                        <div>
                                            <label for="skin-surface-area-input" class="block text-sm font-medium text-gray-700">Dermal: Skin Area (cm²)</label>
                                            <input type="number" id="skin-surface-area-input" value="2800" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md bg-gray-100" readonly>
                                        </div>
                                        <div>
                                            <label for="absorption-factor-input" class="block text-sm font-medium text-gray-700">Dermal: Absorption Factor</label>
                                            <input type="number" id="absorption-factor-input" value="0.01" step="0.01" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                        </div>
                                    </div>
                                </fieldset>
                                
                                <div>
                                    <button onclick="calculateRisk()" class="w-full bg-indigo-600 text-white font-semibold py-3 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out">
                                        Calculate Risk
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Summary & Interpretation -->
                        <div id="summary-section" class="card p-6 hidden">
                            <h2 class="text-xl font-semibold mb-4 text-gray-900">2. Risk Summary</h2>
                             <div id="risk-summary-content"></div>
                        </div>
                    </div>
                    
                    <!-- Results Section -->
                    <div id="results-section" class="card p-6 hidden">
                        <h2 class="text-xl font-semibold mb-4 text-gray-900">3. Detailed Results</h2>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pathway</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ADD (mg/kg-day)</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">LADD (mg/kg-day)</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">HQ / HI</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ILCR</th>
                                    </tr>
                                </thead>
                                <tbody id="results-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Results will be injected here -->
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-8">
                            <h3 class="text-lg font-semibold mb-2">Cancer Risk Contribution by Pathway & Age Group</h3>
                            <div class="h-96 w-full"><canvas id="riskChart"></canvas></div>
                        </div>
                    </div>
                </div>

                <!-- Pollutants Tab -->
                <div id="pollutants-tab" class="hidden"><!-- Content from previous version --></div>

                <!-- Reference Tab -->
                <div id="reference-tab" class="hidden"><!-- Content from previous version --></div>

                <!-- About Tab -->
                <div id="about-tab" class="hidden"><!-- Content from previous version --></div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        // Based on Table 3 from the document
        const pollutantData = {
            'DEHP': { name: 'Di(2-ethylhexyl)phthalate (DEHP)', rfd: 2e-2, csf: 1.4e-2, class: 'B2; Probable Human Carcinogen' },
            'PBDEs': { name: 'Polybrominated Diphenyl Ethers (PBDEs)', rfd: 3e-5, csf: null, class: 'Suggestive Evidence' },
            'PFOA': { name: 'Perfluorooctanoic Acid (PFOA)', rfd: 2e-5, csf: null, class: 'Suggestive Evidence of Carcinogenic Potential' },
            'PFOS': { name: 'Perfluorooctane Sulfonic Acid (PFOS)', rfd: 2e-5, csf: null, class: 'Suggestive Evidence of Carcinogenic Potential' }
        };

        // Based on Table 1 and EPA Exposure Factors Handbook
        const ageGroupData = {
            '0-1': { name: 'Birth to < 1 year', bw: 7.8, ingr_rme: 150, inhr: 5.4, ed: 1, sa: 2800, af: 0.2 },
            '1-2': { name: '1 to < 2 years', bw: 11.4, ingr_rme: 200, inhr: 8.0, ed: 1, sa: 4500, af: 0.5 },
            '2-6': { name: '2 to < 6 years', bw: 17.4, ingr_rme: 200, inhr: 10.1, ed: 4, sa: 6600, af: 1.0 },
            '6-11': { name: '6 to < 11 years', bw: 31.8, ingr_rme: 200, inhr: 12.0, ed: 5, sa: 11000, af: 1.0 },
            '11-16': { name: '11 to < 16 years', bw: 56.8, ingr_rme: 100, inhr: 15.2, ed: 5, sa: 17000, af: 0.2 },
            '16-21': { name: '16 to < 21 years', bw: 71.6, ingr_rme: 100, inhr: 16.3, ed: 5, sa: 19000, af: 0.07 },
            '21+': { name: 'Adult (≥ 21 years)', bw: 80.0, ingr_rme: 100, inhr: 15.1, ed: 57, sa: 20000, af: 0.07 }
        };

        let myChart;

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            // Copy hidden tab content from previous version to avoid repetition
            const prevDoc = new DOMParser().parseFromString(document.getElementById('prev-version-content').textContent, "text/html");
            document.getElementById('pollutants-tab').innerHTML = prevDoc.getElementById('pollutants-tab').innerHTML;
            document.getElementById('reference-tab').innerHTML = prevDoc.getElementById('reference-tab').innerHTML;
            document.getElementById('about-tab').innerHTML = prevDoc.getElementById('about-tab').innerHTML;

            populateDropdowns();
            populateTables();
            updateAgeSpecificInputs();
            changeTab('calculator');
        });

        function populateDropdowns() { /* Omitted for brevity, same as previous version */ }
        function populateTables() { /* Omitted for brevity, same as previous version */ }

        function updateAgeSpecificInputs() {
            const ageKey = document.getElementById('age-group-select').value;
            const ageGroup = ageGroupData[ageKey];
            document.getElementById('skin-surface-area-input').value = ageGroup.sa;
        }

        // --- TAB MANAGEMENT ---
        function changeTab(tabName) { /* Omitted for brevity, same as previous version */ }

        // --- CALCULATION LOGIC ---
        function calculateAllPathways(concentration, concentration_air, absorption_factor, ageKey, pollutant) {
            const ageGroup = ageGroupData[ageKey];
            
            const CF_kg_mg = 1e-6; // kg/mg
            const CF_mg_ug = 1e-3; // mg/µg
            const EF = 350;  // Exposure frequency (days/year)
            const ET = 24; // Exposure time (hours/day) for residential
            const LIFETIME_YRS = 78;
            const LIFETIME_DAYS = LIFETIME_YRS * 365.25;
            const AT_non_cancer = ageGroup.ed * 365.25;
            
            // 1. Ingestion
            const ADD_ing = (concentration * ageGroup.ingr_rme * EF * ageGroup.ed * CF_kg_mg) / (ageGroup.bw * AT_non_cancer);
            const LADD_ing = (concentration * ageGroup.ingr_rme * EF * ageGroup.ed * CF_kg_mg) / (ageGroup.bw * LIFETIME_DAYS);

            // 2. Inhalation
            // Assuming C_air on respirable particles. Using RfD is a proxy for RfC.
            const ADD_inh = (concentration_air * CF_mg_ug * ageGroup.inhr * ET * EF * ageGroup.ed) / (ageGroup.bw * 24 * AT_non_cancer);
            const LADD_inh = (concentration_air * CF_mg_ug * ageGroup.inhr * ET * EF * ageGroup.ed) / (ageGroup.bw * 24 * LIFETIME_DAYS);
            
            // 3. Dermal
            // C_dust (mg/kg) * SA (cm2) * AF(mg/cm2) * ABS(unitless) * CF(kg/mg)
            const ADD_derm = (concentration * ageGroup.sa * ageGroup.af * absorption_factor * EF * ageGroup.ed * CF_kg_mg) / (ageGroup.bw * AT_non_cancer);
            const LADD_derm = (concentration * ageGroup.sa * ageGroup.af * absorption_factor * EF * ageGroup.ed * CF_kg_mg) / (ageGroup.bw * LIFETIME_DAYS);

            // Risk Characterization
            const getADAF = (key) => {
                if (['0-1', '1-2'].includes(key)) return 10;
                if (['2-6', '6-11', '11-16'].includes(key)) return 3;
                return 1;
            };
            const adaf = getADAF(ageKey);
            
            const HQ_ing = pollutant.rfd ? (ADD_ing / pollutant.rfd) : null;
            const HQ_inh = pollutant.rfd ? (ADD_inh / pollutant.rfd) : null;
            const HQ_derm = pollutant.rfd ? (ADD_derm / pollutant.rfd) : null;

            const ILCR_ing = pollutant.csf ? (LADD_ing * pollutant.csf * adaf) : null;
            const ILCR_inh = pollutant.csf ? (LADD_inh * pollutant.csf * adaf) : null;
            const ILCR_derm = pollutant.csf ? (LADD_derm * pollutant.csf * adaf) : null;
            
            return {
                ingestion: { ADD: ADD_ing, LADD: LADD_ing, HQ: HQ_ing, ILCR: ILCR_ing },
                inhalation: { ADD: ADD_inh, LADD: LADD_inh, HQ: HQ_inh, ILCR: ILCR_inh },
                dermal: { ADD: ADD_derm, LADD: LADD_derm, HQ: HQ_derm, ILCR: ILCR_derm }
            };
        }


        function calculateRisk() {
            const pollutantKey = document.getElementById('pollutant-select').value;
            const ageKey = document.getElementById('age-group-select').value;
            const concentration = parseFloat(document.getElementById('concentration-input').value);
            const concentration_air = parseFloat(document.getElementById('concentration-air-input').value);
            const absorption_factor = parseFloat(document.getElementById('absorption-factor-input').value);

            const pollutant = pollutantData[pollutantKey];
            
            if (!pollutant || isNaN(concentration) || isNaN(concentration_air) || isNaN(absorption_factor)) {
                alert("Please ensure all inputs are valid.");
                return;
            }

            const results = calculateAllPathways(concentration, concentration_air, absorption_factor, ageKey, pollutant);
            
            const HI = (results.ingestion.HQ || 0) + (results.inhalation.HQ || 0) + (results.dermal.HQ || 0);
            const Total_ILCR = (results.ingestion.ILCR || 0) + (results.inhalation.ILCR || 0) + (results.dermal.ILCR || 0);

            displayResults(results, HI, Total_ILCR);
            displaySummary({ HI, Total_ILCR });
            generateChart(concentration, concentration_air, absorption_factor, pollutant);
        }

        function displayResults(results, HI, Total_ILCR) {
            document.getElementById('results-section').classList.remove('hidden');
            const tableBody = document.getElementById('results-table-body');
            const formatValue = (val) => val === null ? 'N/A' : (val === 0 ? '0.00e+0' : val.toExponential(2));
            
            tableBody.innerHTML = `
                <tr>
                    <td class="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Ingestion</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.ingestion.ADD)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.ingestion.LADD)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.ingestion.HQ)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.ingestion.ILCR)}</td>
                </tr>
                <tr>
                    <td class="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Inhalation</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.inhalation.ADD)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.inhalation.LADD)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.inhalation.HQ)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.inhalation.ILCR)}</td>
                </tr>
                 <tr>
                    <td class="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Dermal</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.dermal.ADD)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.dermal.LADD)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.dermal.HQ)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">${formatValue(results.dermal.ILCR)}</td>
                </tr>
                <tr class="bg-gray-100 font-bold">
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">Total Risk</td>
                    <td class="px-4 py-4" colspan="2"></td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${formatValue(HI)}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${formatValue(Total_ILCR)}</td>
                </tr>
            `;
        }

        function displaySummary({HI, Total_ILCR}) {
             document.getElementById('summary-section').classList.remove('hidden');
            const content = document.getElementById('risk-summary-content');

            let hiText = "The cumulative non-carcinogenic risk (Hazard Index) is below the level of concern (HI ≤ 1). Adverse health effects are considered unlikely from the combined exposures.";
            let hiColor = "text-green-700";
            if (HI > 1) {
                hiText = "The cumulative non-carcinogenic risk (Hazard Index) exceeds the level of concern (HI > 1). This signals a potential for adverse health effects from the combined exposures and may warrant further investigation.";
                hiColor = "text-red-700";
            }
            if (HI === null || HI === 0) {
                hiText = "Non-carcinogenic risk could not be calculated as a Reference Dose (RfD) is not available for this pollutant.";
                hiColor = "text-gray-700";
            }

            let ilcrText = `The total carcinogenic risk is within or below the generally acceptable range of 1x10⁻⁶ to 1x10⁻⁴.`;
            let ilcrColor = "text-green-700";
            if (Total_ILCR > 1e-4) {
                 ilcrText = `The total carcinogenic risk exceeds the generally acceptable range (ILCR > 1x10⁻⁴). This level of risk is often considered unacceptable and may trigger regulatory action.`;
                 ilcrColor = "text-red-700";
            } else if (Total_ILCR > 1e-6) {
                 ilcrText = `The total carcinogenic risk is within the manageable range (1x10⁻⁶ to 1x10⁻⁴). The specific target level can depend on policy.`;
                 ilcrColor = "text-yellow-700";
            }
             if (Total_ILCR === null || Total_ILCR === 0) {
                ilcrText = "Carcinogenic risk could not be calculated as a Cancer Slope Factor (CSF) is not available for this pollutant.";
                ilcrColor = "text-gray-700";
            }
            
            content.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <h3 class="font-semibold text-gray-800">Non-Carcinogenic Risk (Hazard Index)</h3>
                        <p class="text-sm ${hiColor}">${hiText}</p>
                    </div>
                     <div>
                        <h3 class="font-semibold text-gray-800">Carcinogenic Risk (Total ILCR)</h3>
                        <p class="text-sm ${ilcrColor}">${ilcrText}</p>
                    </div>
                </div>
            `;
        }

        function generateChart(concentration, concentration_air, absorption_factor, pollutant) {
            const ctx = document.getElementById('riskChart').getContext('2d');
            
            const labels = Object.values(ageGroupData).map(ag => ag.name);
            const ilcr_ing_data = [];
            const ilcr_inh_data = [];
            const ilcr_derm_data = [];

            for (const ageKey in ageGroupData) {
                const results = calculateAllPathways(concentration, concentration_air, absorption_factor, ageKey, pollutant);
                ilcr_ing_data.push(results.ingestion.ILCR || 0);
                ilcr_inh_data.push(results.inhalation.ILCR || 0);
                ilcr_derm_data.push(results.dermal.ILCR || 0);
            }

            if(myChart) {
                myChart.destroy();
            }

            myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        { label: 'Ingestion', data: ilcr_ing_data, backgroundColor: 'rgba(79, 70, 229, 0.7)' },
                        { label: 'Inhalation', data: ilcr_inh_data, backgroundColor: 'rgba(56, 189, 248, 0.7)' },
                        { label: 'Dermal', data: ilcr_derm_data, backgroundColor: 'rgba(234, 179, 8, 0.7)' },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true, title: { display: true, text: 'Age Group' } },
                        y: {
                            stacked: true,
                            type: 'logarithmic',
                            title: { display: true, text: 'Incremental Lifetime Cancer Risk (ILCR)' },
                            ticks: { callback: function(value) { return value.toExponential() } }
                        }
                    },
                    plugins: {
                        tooltip: { callbacks: { label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) label += ': ';
                            if (context.parsed.y !== null) label += context.parsed.y.toExponential(2);
                            return label;
                        }}}
                    }
                }
            });
        }
    </script>
    
    <!-- A script tag to hold the content of the other tabs from the previous version, to avoid code duplication -->
    <script type="text/template" id="prev-version-content">
        <!-- The content of the Pollutants, Reference, and About tabs from the first HTML file goes here. -->
        <!-- This is a trick to keep the main script cleaner while reusing the static content. -->
                <!-- Pollutants Tab -->
                <div id="pollutants-tab" class="hidden">
                    <div class="card p-6">
                        <div class="flex justify-between items-center mb-4">
                           <h2 class="text-xl font-semibold text-gray-900">Pollutant Toxicity Data</h2>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contaminant</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Oral RfD (mg/kg-day)</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Oral CSF ((mg/kg-day)⁻¹)</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Carcinogen Class</th>
                                    </tr>
                                </thead>
                                <tbody id="pollutants-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Reference Tab -->
                <div id="reference-tab" class="hidden">
                     <div class="card p-6">
                        <h2 class="text-xl font-semibold mb-4 text-gray-900">Age-Specific Exposure Factors (EPA/ATSDR)</h2>
                        <p class="text-sm text-gray-600 mb-4">This table provides standard values for calculating exposure doses across different lifestages. RME (Reasonable Maximum Exposure) values are used in the calculator for a conservative risk assessment.</p>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Age Group</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mean Body Weight (kg)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Dust Ingestion Rate (mg/day) - RME</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Inhalation Rate (m³/day) - Mean</th>
                                    </tr>
                                </thead>
                                <tbody id="age-factors-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- About Tab -->
                <div id="about-tab" class="hidden">
                    <div class="card p-6 prose max-w-none">
                        <h2 class="text-xl font-semibold">About This Tool</h2>
                        <p>This Human Health Risk Assessment Calculator is designed to provide a screening-level evaluation of potential health risks from exposure to emerging contaminants commonly found in indoor dust. It is based on the four-step risk assessment framework used by the U.S. Environmental Protection Agency (EPA).</p>
                        <h3>Methodology</h3>
                        <p>The tool calculates risk based on three primary exposure pathways for contaminants in dust:</p>
                        <ul>
                            <li><strong>Incidental Ingestion:</strong> Unintentional swallowing of dust, a dominant pathway for young children.</li>
                            <li><strong>Inhalation:</strong> Breathing in airborne particles with adsorbed contaminants.</li>
                            <li><strong>Dermal Absorption:</strong> Uptake of chemicals through skin contact with dust.</li>
                        </ul>
                        <p>It uses standard EPA equations to estimate the Average Daily Dose (ADD) for non-carcinogenic effects and the Lifetime Average Daily Dose (LADD) for carcinogenic effects. These doses are then used to calculate two key risk metrics:</p>
                        <ul>
                            <li><strong>Hazard Quotient (HQ):</strong> A ratio of the estimated exposure to the Reference Dose (RfD). An HQ > 1 suggests a potential for non-carcinogenic health effects.</li>
                            <li><strong>Incremental Lifetime Cancer Risk (ILCR):</strong> An estimate of the probability of an individual developing cancer over a lifetime due to the exposure. Risks between 1x10⁻⁶ and 1x10⁻⁴ are often considered a manageable range by regulatory agencies.</li>
                        </ul>
                        <h3>Disclaimer</h3>
                        <p>This tool is for educational and research purposes only. The results are estimates based on standard assumptions and default values from scientific literature. They are not a substitute for a site-specific, professional risk assessment or medical advice. The calculations involve inherent uncertainties related to exposure factors and toxicological data.</p>
                    </div>
                </div>
    </script>

</body>
</html>

